{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tudor\\\\Desktop\\\\SitePW\\\\REACT-PAYMENT\\\\src\\\\Pay.jsx\",\n    _s = $RefreshSig$();\n\n///PAY.jsx\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KEY = \"pk_test_51Lt98QLEVBTAGzNr1glATqQN4VmEbLMLD1CQ4HUtTU5eNScwQ8K6yQ0z3uPbWQTO0kBMbUmRYywQjvE0CblJ8hia00KMN0Wo2B\";\n\nconst Pay = () => {\n  _s();\n\n  const [stripeToken, setStripeToken] = useState(null);\n  const history = useHistory();\n\n  const onToken = token => {\n    setStripeToken(token);\n  };\n\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        const res = await axios.post(\"http://localhost:5000/api/checkout/payment\", {\n          tokenId: stripeToken.id,\n          amount: 2000\n        });\n        console.log(res.data);\n        history.push(\"/success\");\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    if (stripeToken) makeRequest();\n  }, [stripeToken, history]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: \"100vh\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    children: [\" \", stripeToken ? /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Processing. Please wait...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 27\n    }, this) : /*#__PURE__*/_jsxDEV(StripeCheckout, {\n      name: \"TAP\",\n      image: \"https://avatars.githubusercontent.com/u/73787063?v=4\",\n      billingAddress: true,\n      shippingAddress: true,\n      description: \"Your total is $20\",\n      amount: 2000,\n      token: onToken,\n      stripeKey: KEY,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          border: \"none\",\n          width: 120,\n          borderRadius: 5,\n          padding: \"20px\",\n          backgroundColor: \"black\",\n          color: \"white\",\n          fontWeight: \"500\",\n          cursor: \"pointer\"\n        },\n        children: \"Pay Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Pay, \"DghKIuAdLH7pA+t4TiKyoWpPrDQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = Pay;\nexport default Pay;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pay\");","map":{"version":3,"sources":["C:/Users/Tudor/Desktop/SitePW/REACT-PAYMENT/src/Pay.jsx"],"names":["StripeCheckout","useState","useEffect","axios","useHistory","KEY","Pay","stripeToken","setStripeToken","history","onToken","token","makeRequest","res","post","tokenId","id","amount","console","log","data","push","err","height","display","alignItems","justifyContent","border","width","borderRadius","padding","backgroundColor","color","fontWeight","cursor"],"mappings":";;;AAAA;AACA,OAAOA,cAAP,MAA2B,uBAA3B;AACA,SAAQC,QAAR,EAAiBC,SAAjB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,cAAzB;;AACA,MAAMC,GAAG,GAAG,6GAAZ;;AACA,MAAMC,GAAG,GAAG,MAAK;AAAA;;AAEb,QAAM,CAACC,WAAD,EAAaC,cAAb,IAA+BP,QAAQ,CAAC,IAAD,CAA7C;AACA,QAAMQ,OAAO,GAAGL,UAAU,EAA1B;;AACC,QAAMM,OAAO,GAAIC,KAAD,IAAU;AACnBH,IAAAA,cAAc,CAACG,KAAD,CAAd;AACN,GAFD;;AAIAT,EAAAA,SAAS,CAAC,MAAI;AACX,UAAMU,WAAW,GAAG,YAAW;AAC3B,UAAG;AACC,cAAMC,GAAG,GAAG,MAAMV,KAAK,CAACW,IAAN,CACd,4CADc,EAElB;AACIC,UAAAA,OAAO,EAACR,WAAW,CAACS,EADxB;AAEIC,UAAAA,MAAM,EAAC;AAFX,SAFkB,CAAlB;AAOLC,QAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACO,IAAhB;AACKX,QAAAA,OAAO,CAACY,IAAR,CAAa,UAAb;AACP,OAVG,CAYA,OAAMC,GAAN,EAAU;AACNJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACH;AACJ,KAhBD;;AAiBD,QAAIf,WAAJ,EAAiBK,WAAW;AAC7B,GAnBQ,EAmBP,CAACL,WAAD,EAAaE,OAAb,CAnBO,CAAT;AAqBD,sBAEI;AACI,IAAA,KAAK,EAAI;AACLc,MAAAA,MAAM,EAAC,OADF;AAELC,MAAAA,OAAO,EAAC,MAFH;AAGLC,MAAAA,UAAU,EAAC,QAHN;AAILC,MAAAA,cAAc,EAAC;AAJV,KADb;AAAA,oBAOGnB,WAAW,gBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAJ,gBACV,QAAC,cAAD;AACA,MAAA,IAAI,EAAG,KADP;AAEA,MAAA,KAAK,EAAG,sDAFR;AAGA,MAAA,cAAc,MAHd;AAIA,MAAA,eAAe,MAJf;AAKA,MAAA,WAAW,EAAC,mBALZ;AAMA,MAAA,MAAM,EAAI,IANV;AAOA,MAAA,KAAK,EAAIG,OAPT;AAQA,MAAA,SAAS,EAAIL,GARb;AAAA,6BAUJ;AACI,QAAA,KAAK,EAAI;AACLsB,UAAAA,MAAM,EAAC,MADF;AAELC,UAAAA,KAAK,EAAC,GAFD;AAGLC,UAAAA,YAAY,EAAC,CAHR;AAILC,UAAAA,OAAO,EAAC,MAJH;AAKLC,UAAAA,eAAe,EAAC,OALX;AAMLC,UAAAA,KAAK,EAAC,OAND;AAOLC,UAAAA,UAAU,EAAC,KAPN;AAQLC,UAAAA,MAAM,EAAC;AARF,SADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVI;AAAA;AAAA;AAAA;AAAA,YARJ;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAoCH,CAjED;;GAAM5B,G;UAGcF,U;;;KAHdE,G;AAmEN,eAAeA,GAAf","sourcesContent":["///PAY.jsx\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport {useState,useEffect} from \"react\"\r\nimport axios from \"axios\"\r\nimport {useHistory} from \"react-router\"\r\nconst KEY = \"pk_test_51Lt98QLEVBTAGzNr1glATqQN4VmEbLMLD1CQ4HUtTU5eNScwQ8K6yQ0z3uPbWQTO0kBMbUmRYywQjvE0CblJ8hia00KMN0Wo2B\"\r\nconst Pay = () =>{\r\n\r\n    const [stripeToken,setStripeToken] = useState(null);\r\n    const history = useHistory();\r\n     const onToken = (token) =>{\r\n            setStripeToken(token);\r\n     };\r\n\r\n     useEffect(()=>{\r\n        const makeRequest = async () =>{\r\n            try{\r\n                const res = await axios.post(\r\n                    \"http://localhost:5000/api/checkout/payment\",\r\n                {\r\n                    tokenId:stripeToken.id,\r\n                    amount:2000,\r\n                }\r\n           );\r\n           console.log(res.data);\r\n                history.push(\"/success\");\r\n        }\r\n     \r\n            catch(err){\r\n                console.log(err)\r\n            }\r\n        };\r\n       if (stripeToken) makeRequest();\r\n     },[stripeToken,history])\r\n\r\n    return(\r\n\r\n        <div\r\n            style = {{\r\n                height:\"100vh\",\r\n                display:\"flex\",\r\n                alignItems:\"center\",\r\n                justifyContent:\"center\",\r\n            }}\r\n        > {stripeToken ? (<span>Processing. Please wait...</span>) : (\r\n            <StripeCheckout\r\n            name = \"TAP\"\r\n            image = \"https://avatars.githubusercontent.com/u/73787063?v=4\"\r\n            billingAddress\r\n            shippingAddress\r\n            description=\"Your total is $20\"\r\n            amount = {2000}\r\n            token = {onToken}\r\n            stripeKey = {KEY}\r\n            >\r\n        <button\r\n            style = {{\r\n                border:\"none\",\r\n                width:120,\r\n                borderRadius:5,\r\n                padding:\"20px\",\r\n                backgroundColor:\"black\",\r\n                color:\"white\",\r\n                fontWeight:\"500\",\r\n                cursor:\"pointer\",\r\n            }}\r\n        >Pay Now \r\n        </button>\r\n        </StripeCheckout>)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Pay;"]},"metadata":{},"sourceType":"module"}